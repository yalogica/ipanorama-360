/*!
 * Transition Name: Swirl
 */
!function(t){(function(t){"use strict";var e={name:"Swirl",effect:function(t,e){this.viewer=e;this.shader={uniforms:{texture1:{value:null},texture2:{value:null},progress:{value:0},time:{value:0},timeDelta:{value:0},resolution:{value:new THREE.Vector2}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["varying vec2 vUv;","uniform sampler2D texture1;","uniform sampler2D texture2;","uniform float progress;","uniform float time;","uniform float timeDelta;","uniform vec2 resolution;","const float PI = 3.141592653589793;","vec4 getFromColor(vec2 uv) {","return texture2D(texture1, uv);","}","vec4 getToColor(vec2 uv) {","return texture2D(texture2, uv);","}","void main() {","vec2 uv = vUv;","float radius = 1.0;","float t = progress;","uv -= vec2( 0.5, 0.5 );","float dist = length(uv);","if(dist < radius ) {","float percent = (radius - dist) / radius;","float a = ( t <= 0.5 ) ? mix( 0.0, 1.0, t/0.5 ) : mix( 1.0, 0.0, (t-0.5)/0.5 );","float theta = percent * percent * a * 8.0 * PI;","float s = sin( theta );","float c = cos( theta );","uv = vec2( dot(uv, vec2(c, -s)), dot(uv, vec2(s, c)) );","}","uv += vec2( 0.5, 0.5 );","vec4 fromColor = getFromColor(uv);","vec4 toColor = getToColor(uv);","gl_FragColor = mix(fromColor, toColor, t);","}"].join("\n"),side:THREE.DoubleSide};this.material=new THREE.ShaderMaterial(this.shader);this.init(t)}};e.effect.prototype={init:function(t){},getMaterial:function(){return this.material},destroy:function(){this.material.dispose()},onStart:function(t,e,o){},onUpdate:function(t,e,o){},onComplete:function(t,e){}},t.SceneTransitionEffect=t.SceneTransitionEffect||{},t.SceneTransitionEffect.Swirl=e})((t=t||self).IPANORAMA=t.IPANORAMA||{})}(this);